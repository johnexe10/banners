<!DOCTYPE html>
<html lang="en">
<head>
    <!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->
	<meta charset="UTF-8">
	<title>CandyBanners</title>
	<meta name="ad.size" content="width=300,height=250"> 
	<link rel="stylesheet" href="style.css">
	<script> var clickTag = "https://www.sleepcountshcp.com/idiopathic-hypersomnia-causes"; </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.2.4/gsap.min.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
	<script src="matter.min.js"></script>
</head>
<body>
	<div id="container">
		<div class='bg black'></div>
		<div class='bg blue'>
            <img src="bgblue.png" alt="" srcset="">
        </div>
        <div class="blackbox">
            <div class="yellowbox">
                <img src="yellowbg1.png" alt="" srcset="">
                <div class='cta'>
                    <div class='sprite cta-text1'></div>
                    <div class='sprite cta-arrow'></div>
                </div>
            </div>
            <img src="blackbg1.png" alt="" srcset="">
            <div class='sprite t4-1'></div>
        </div>
        <div class='sprite jazzlogo'></div>
        <div class='sprite legal'></div>
        <div class='sprite t1-1'></div>
        <div class='sprite t2-1'></div>
        <div class='sprite t3-1'></div>
        <div class="shadow">
            <img src="shadow.png" alt="" srcset="">
        </div>
        <div id="matter-cont">
            <div class="sheep-cont">
                <img class="sheepbody" src="sheep-body.png" alt="">
                <img class="shock" src="shock.png" alt="">
                <img class="sheepeye2" src="sheep-eye2.png" alt="">
                <img class="sheepeye1" src="sheep-eye1.png" alt="">
            </div>
        </div>
        <div id='clickthru'></div>
        
	</div>
	<script src="script.js"></script>
	<script>
    //--------------preload-img-------------------
    function preload(arr,f) { $('<div id="preload" />').appendTo('body'); $(arr).each(function () {$('<img />').attr('src',this).appendTo('#preload').hide(); }); window.onload =function(){ f(); $('#preload').remove()} }
    //--------------vars-------------------
	var tl = gsap.timeline({paused:true,  defaults: {duration: 1,ease: "none" }});
    //---------------------------------
    preload([
        "sprite.png",
        "sheep-min.png"
    ],startAnim);
    //--------------animations---------------------
    function startAnim() {
		//------on load ------------
		gsap.set('#container', {display: 'block',onComplete:()=>{
			//------------ ADD EVENT --------------
			addEvent();
			tl.play();
		}});
		//--------------- SET -----------------
		//---------- ADD ANIMATION ------------
        tl
            //=========================
            .add('Scene1')
            .add(function(){blinkEyes(1, 1, 0);}, 'Scene1+=1')
            .add(function(){blinkEyes(3, 1, 0);}, 'Scene1+=3')
            //=========================
            .add('Scene2','Scene1+=3')
            .to('.t1-1',{opacity: 0, y:10, ease:"power1.out"}, 'Scene2')
            .from('.t2-1',{opacity: 0, y:10,ease:"power1.out"}, 'Scene2+=.8')
            .from('#matter-cont',{scale:4.4,x:-19,y:139,rotation:-13,ease:"power1.out"}, 'Scene2+=.8')
            .to('.sheep-cont',{opacity:0,ease:"power1.out"}, 'Scene2+=.8')
            .from('#matter-cont canvas',{opacity:0,ease:"power1.out"}, 'Scene2+=.8')
            .add(()=>{playSheepAnim()}, 'Scene2+=1.3')
            //=========================
            .add('Scene3','Scene2+=3')
            .to('.t2-1',{opacity: 0,ease:"power1.out"}, 'Scene3+=.5')
            .from('.t3-1',{opacity: 0,ease:"power1.out"}, 'Scene3+=.5')
            .from('.shadow',{opacity: 0, ease:"power1.out"}, 'Scene3+=.5')
            .from('.blue',{opacity: 0, ease:"power1.out"}, 'Scene3+=.5')
            .fromTo('.shadow',{x:-10},{ x:20,duration:1,yoyo:true,repeat:1,ease:"power1.inOut"}, 'Scene3')
            .to('.shadow',{ x:14,duration:.31,ease:"power1.out"}, 'Scene3+=2.2')
            .to('.shadow',{duration:1,x:-7,ease:'power1.inOut'}, 'Scene3+=3.2')
            .to('.shadow',{duration:1.6,x:10,overwrite:'auto',ease:'power2.inOut'}, 'Scene3+=4.2')
            //=========================
            .add('Scene4','Scene3+=5')
            .to('#matter-cont,.shadow',{opacity: 0,duration:.5,ease:"power1.out"}, 'Scene4')
            .to('.t3-1',{opacity: 0, y:10, duration:.5,ease:"power1.out"}, 'Scene4')
            .from('.blackbox',{opacity: 0,duration:.3,ease:"power1.out"}, 'Scene4+=.5')
            .from('.yellowbox',{y:-50,opacity:0,duration:.6,ease:"power1.inOut"}, 'Scene4+=.8')
            .from('.jazzlogo,.legal',{opacity: 0,duration:.3, y:10,ease:"power1.out"}, 'Scene4+=.5')
            .to('.cta-arrow',{duration:.4, x: 3, yoyo: true, repeat: 3, ease: 'power1.inOut', onComplete: hoverFunction}, 'Scene4+=1')
            //-------------------------------------

            function blinkEyes(r, rD, rE) {
                var tl = gsap.timeline({repeatDelay: rD, repeat: rE});
                tl
                    .to('.sheepeye1', {duration: .15, opacity: 0, yoyo: true, repeat: r}, 0)
                    .to('.shock', {duration: .25, opacity: 1, yoyo: true, repeat: r}, 0)
                return tl;
            }
    };

    function addEvent() {
        $('#clickthru').on('click', exit);
    };
    
    function exit() {
        //-----------exit guide--------------------------
        //--adword--> ExitApi.exit();
        //--adgear--> ADGEAR.html5.clickThrough("clickTAG");
        //--studio--> Enabler.exit('Background Exit'); 
        //--standard/sizemek/adword no-api--> window.open(clickTag);
        //-----------exit--------------------------------
        window.open(clickTag); /*Studio/Enabler Exit*/
    }
    
    function hoverFunction() {
        
        $('#clickthru').on('mouseenter', function() {
            gsap.to('.cta-arrow',{duration:.6, x: 3});
        });
        $('#clickthru').on('mouseleave', function() {
            gsap.to('.cta-arrow',{duration:.6, x: 0});
        });
    }
//-------------------------------------

</script>
</body>
</html>

<!--2022-->